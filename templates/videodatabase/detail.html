{% extends 'videodatabase/common.html' %}
{% block style %}
    {% load static %}
    <script src="{% static "js/echarts.min.js" %}"></script>
    <link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>

    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/detail.css' %}" media="all">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/video.js/6.7.3/video-js.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/6.7.3/video.min.js"></script>
    <script src="http://vjs.zencdn.net/5.19/lang/zh-CN.js"></script>
{% endblock style %}
{% block contents %}
    <div class="container">
        <h3 style="margin-top: 2px;"><a href="{% url 'home' %}" class="glyphicon glyphicon-arrow-left"
                                        style="color: #CCCCCC"></a></h3>
    </div>
    <div class="container" style="height: 300px; width: 1000px;">
        <div class="col-lg-12" style="background-color: #3D3C3C;height: 300px;">
            <div class="col-xs-5">
                <div class="video_sh" style="padding-top: 15px;height: 300px; padding-bottom: 15px;">
                    <video id="my-videos" class="video-js" controls preload="false" data-setup="{}"
                           style=" position:relative;padding-top:0px; width:100%; height:100%;">
                        <source id="videoss" src="{{ video.url}}" type="video/mp4">
                    </video>
                </div>
            </div>
            <div>
                <div class="detailss">
                    <div class="col-xs-3">
                        <div class="parameters">
                            <ul>
                                <li>
                                    <span class="label label-default jelly">视频载体</span>
                                    <span class="fonts">
                                {{ video.container.name }}
                            </span>
                                </li>
                                <li>
                                    <span class="label label-default jelly">业务类型</span>
                                    <span class="fonts">
                                {{ video.scenes.name }}
                            </span>
                                </li>
                                <li>
                                    <span class="label label-default jelly">产品品类</span>
                                    <span class="fonts">
                                {{ video.productCategory.name }}
                            </span>
                                </li>
                                <li>
                                    <span class="label label-default jelly">产品风格</span>
                                    <span class="fonts">
                                {{ video.style.name }}
                            </span>
                                </li>
                                <li>
                                    <span class="label label-default jelly">视频时长</span>
                                    <span class="fonts">{{ video.duration }}</span>
                                </li>
                                <li>
                                    <span class="label label-default jelly">镜头数</span>
                                    <span class="fonts">{{ value }}</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="col-xs-4">
                        <div class="parameters">
                            <ul>
                                <li>
                                    {% if video.speedArg == 0 %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">主体运动变化</span>
                                            <span class="label label-default on">大</span>
                                            <span class="label label-default off">小</span>
                                        </div>
                                    {% elif video.speedArg == 1 %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">主体运动变化</span>
                                            <span class="label label-default off">大</span>
                                            <span class="label label-default on">小</span>
                                        </div>
                                    {% else %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">主体运动变化</span>
                                            <span class="label label-default off">大</span>
                                            <span class="label label-default off">小</span>
                                        </div>
                                    {% endif %}
                                </li>
                                <li>
                                    {% if video.positionArg == 0 %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">主体位置变化</span>
                                            <span class="label label-default on">大</span>
                                            <span class="label label-default off">小</span>
                                        </div>
                                    {% elif video.positionArg == 1 %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">主体位置变化</span>
                                            <span class="label label-default off">大</span>
                                            <span class="label label-default on">小</span>
                                        </div>
                                    {% else %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">主体位置变化</span>
                                            <span class="label label-default off">大</span>
                                            <span class="label label-default off">小</span>
                                        </div>
                                    {% endif %}
                                </li>
                                <li>
                                    {% if video.cramArg == 0 %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">镜头运动变化</span>
                                            <span class="label label-default on">大</span>
                                            <span class="label label-default off">小</span>
                                        </div>
                                    {% elif video.cramArg == 1 %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">镜头运动变化</span>
                                            <span class="label label-default off">大</span>
                                            <span class="label label-default on">小</span>
                                        </div>
                                    {% else %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">镜头运动变化</span>
                                            <span class="label label-default off">大</span>
                                            <span class="label label-default off">小</span>
                                        </div>
                                    {% endif %}
                                </li>

                                <li>
                                    {% if video.colorArg == 0 %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">画面色调变化</span>
                                            <span class="label label-default on">大</span>
                                            <span class="label label-default off">小</span>
                                        </div>
                                    {% elif video.colorArg == 1 %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">画面色调变化</span>
                                            <span class="label label-default off">大</span>
                                            <span class="label label-default on">小</span>
                                        </div>
                                    {% else %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">画面色调变化</span>
                                            <span class="label label-default off">大</span>
                                            <span class="label label-default off">小</span>
                                        </div>
                                    {% endif %}
                                </li>
                                <li>
                                    {% if video.jumpArg == 1 %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">是否跳剪</span>
                                            <span class="label label-default on">是</span>
                                            <span class="label label-default off">否</span>
                                        </div>
                                    {% elif video.jumpArg == 0 %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">是否跳剪</span>
                                            <span class="label label-default off">是</span>
                                            <span class="label label-default on">否</span>
                                        </div>
                                    {% else %}
                                        <div class="label-group">
                                            <span class="label label-default jelly">是否跳剪</span>
                                            <span class="label label-default off">是</span>
                                            <span class="label label-default off">否</span>
                                        </div>
                                    {% endif %}
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container" style="margin-top: 30px"></div>

    <div class="container" style="color:white;">
        <div class="row">
            <div class="col-md-6">
                <div id="main1" style="width: 500px;height:200px;"></div>
                <script type="text/javascript">
                    var myChart = echarts.init(document.getElementById('main1'));
                    var timeList = {{ timeList|safe }};
                    var timeShotsizeList = {{ timeShotsizeList|safe }};
                    var shotsizeData = {{ shotsizeData|safe }};
                    var acc = {{ timeAcc }};
                    var numbers = [];
                    var property = "";
                    for (var item in timeList) {
                        numbers.push(timeList[item]);
                    }
                    option = {
                        title: {
                            subtext: "景别",
                            left: "center",
                            top: "top",
                            padding: 30,
                            subtextStyle: {
                                fontSize: 14,
                            },
                        },

                        grid: {
                            y2: 20
                        },

                        xAxis: [
                            {
                                type: 'value',
                                splitNumber: acc,
                                splitLine: {show: false},
                                axisLine: {
                                    lineStyle: {
                                        type: 'solid',
                                        color: 'white',
                                    }
                                },
                                axisTick: {
                                    show: false
                                },
                                axisLabel: {
                                    formatter: function (value) {
                                        var s = value + "";
                                        if ($.inArray(value, numbers) != -1) {
                                            return value;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                            }
                        ],
                        yAxis: [{
                            type: "category",
                            data: ["特写", "近景", "中景", "远景"], // 特写 0 近景 1 中景 2 远景 3
                            axisTick: {
                                show: false
                            },
                            boundaryGap: false,
                            splitLine: {show: false},
                            axisLine: {
                                lineStyle: {
                                    type: 'solid',
                                    color: 'white',
                                }
                            },

                        }],
                        series: [
                            {
                                name: 'series1',
                                type: 'line',
                                showAllSymbol: true,
                                symbolSize: 7,
                                data: timeShotsizeList,
                                markLine: {
                                    symbol: ['none', 'none'],
                                    silent: false,
                                    lineStyle: {
                                        normal: {
                                            color: "#8F8F8F"
                                        }
                                    },
                                    data: shotsizeData,
                                    label: {
                                        normal: {
                                            formatter: ""
                                        }
                                    },
                                }
                            }
                        ]
                    };

                    myChart.setOption(option);
                </script>
                <div id="main2" style="width: 500px;height:200px;"></div>
                <script type="text/javascript">
                    var myChart = echarts.init(document.getElementById('main2'));
                    var timeSpeedList = {{ timeSpeedList|safe }};
                    var speedData = {{ speedData|safe }};
                    var property = "";
                    option = {
                        title: {
                            subtext: "主体运动强度",
                            left: "center",
                            top: "top",
                            padding: 30,
                            subtextStyle: {
                                fontSize: 14,
                            },
                        },
                        grid: {
                            y2: 20
                        },
                        xAxis: [
                            {
                                type: 'value',
                                splitNumber: acc,
                                splitLine: {show: false},
                                axisLine: {
                                    lineStyle: {
                                        type: 'solid',
                                        color: 'white',
                                    }
                                },
                                axisTick: {
                                    show: false
                                },
                                axisLabel: {
                                    formatter: function (value) {
                                        var s = value + "";
                                        if ($.inArray(value, numbers) != -1) {
                                            return value;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                            }
                        ],
                        yAxis: [{
                            type: "category",
                            data: ["弱", "中", "强"],  // 弱 0 中 1 强 2
                            axisTick: {
                                show: false
                            },
                            boundaryGap: false,
                            splitLine: {show: false},
                            axisLine: {
                                lineStyle: {
                                    type: 'solid',
                                    color: 'white',
                                }
                            },

                        }],
                        series: [
                            {
                                name: 'series1',
                                type: 'line',
                                showAllSymbol: true,
                                symbolSize: 7,
                                data: timeSpeedList,
                                markLine: {
                                    symbol: ['none', 'none'],
                                    silent: false,
                                    lineStyle: {
                                        normal: {
                                            color: "#8F8F8F"
                                        }
                                    },
                                    data: speedData,
                                    label: {
                                        normal: {
                                            formatter: ""
                                        }
                                    },
                                }
                            }
                        ]
                    };

                    myChart.setOption(option);
                </script>
                <div id="main3" style="width: 500px;height:200px;"></div>
                <script type="text/javascript">
                    var myChart = echarts.init(document.getElementById('main3'));
                    var timePositionList = {{ timePositionList|safe }};
                    var positionData = {{ positionData|safe }};
                    option = {
                        title: {
                            subtext: "主体位置",
                            left: "center",
                            top: "top",
                            padding: 30,
                            subtextStyle: {
                                fontSize: 14,
                            },
                        },
                        grid: {
                            y2: 20
                        },
                        xAxis: [
                            {
                                type: 'value',
                                splitNumber: acc,
                                splitLine: {show: false},
                                axisLine: {
                                    lineStyle: {
                                        type: 'solid',
                                        color: 'white',
                                    }
                                },
                                axisTick: {
                                    show: false
                                },
                                axisLabel: {
                                    formatter: function (value) {
                                        var s = value + "";
                                        if ($.inArray(value, numbers) != -1) {
                                            return value;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                            }
                        ],
                        yAxis: [{
                            type: "category",
                            data: ["右", "中", "左"],  // 0 右 1 中 2 左
                            splitNumber: 5,
                            axisTick: {
                                show: false
                            },
                            boundaryGap: false,
                            splitLine: {show: false},
                            axisLine: {
                                lineStyle: {
                                    type: 'solid',
                                    color: 'white',
                                }
                            },

                        }],
                        series: [
                            {
                                name: 'series1',
                                type: 'line',
                                showAllSymbol: true,
                                symbolSize: 7,
                                data: timePositionList,
                                markLine: {
                                    symbol: ['none', 'none'],
                                    silent: false,
                                    lineStyle: {
                                        normal: {
                                            color: "#8F8F8F"
                                        }
                                    },
                                    data: positionData,
                                    label: {
                                        normal: {
                                            formatter: ""
                                        }
                                    },
                                }
                            }
                        ]
                    };
                    myChart.setOption(option);
                </script>
                <div id="main4" style="width: 500px;height:200px;"></div>
                <script type="text/javascript">
                    var myChart = echarts.init(document.getElementById('main4'));
                    var timeColorList = {{ timeColorList|safe }};
                    var colorData = {{ colorData|safe }}
                        option = {
                            title: {
                                subtext: "色调",
                                left: "center",
                                top: "top",
                                padding: 30,
                                subtextStyle: {
                                    fontSize: 14,
                                },
                            },
                            grid: {
                                y2: 20
                            },
                            xAxis: [
                                {
                                    type: 'value',
                                    splitNumber: 15,
                                    splitLine: {show: false},
                                    axisLine: {
                                        lineStyle: {
                                            type: 'solid',
                                            color: 'white',

                                        }
                                    },
                                    axisTick: {
                                        show: false
                                    },
                                    axisLabel: {
                                        formatter: function (value) {
                                            var s = value + "";
                                            if ($.inArray(value, numbers) != -1) {
                                                return value;
                                            } else {
                                                return "";
                                            }
                                        }
                                    }
                                }
                            ],
                            yAxis: [{
                                type: "category",
                                data: ["暖", "中", "冷"],  // 暖 0 中 1 冷 2
                                splitNumber: 5,
                                axisTick: {
                                    show: false
                                },
                                boundaryGap: false,
                                splitLine: {show: false},
                                axisLine: {
                                    lineStyle: {
                                        type: 'solid',
                                        color: 'white',
                                    }
                                },

                            }],
                            series: [
                                {
                                    name: 'series1',
                                    type: 'line',
                                    showAllSymbol: true,
                                    symbolSize: 7,
                                    data: timeColorList,
                                    markLine: {
                                        symbol: ['none', 'none'],
                                        silent: false,
                                        lineStyle: {
                                            normal: {
                                                color: "#8F8F8F"
                                            }
                                        },
                                        data: colorData,
                                        label: {
                                            normal: {
                                                formatter: ""
                                            }
                                        },
                                    }
                                }
                            ]
                        };
                    myChart.setOption(option);
                </script>
            </div>
            <div class="col-md-6" id="table_s">
                <table class="table table-inverse">
                    <thead>
                    <tr>
                        <th></th>
                        <th>首镜头</th>
                        <th>尾镜头</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">镜头运动强度</th>
                        <td>
                            {% if startShot.craMotion.0 == 0 %}弱
                            {% elif startShot.craMotion.0 == 1 %}中
                            {% elif startShot.craMotion.0 == 2 %}强
                            {% else %} 无
                            {% endif %}
                        </td>
                        <td>
                            {% if endShot.craMotion.1 == 0 %}弱
                            {% elif endShot.craMotion.1 == 1 %}中
                            {% elif endShot.craMotion.1 == 2 %}强
                            {% else %} 无
                            {% endif %}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">主体运动强度</th>
                        <td>
                            {% if startShot.speed.0 == 0 %}弱
                            {% elif startShot.speed.0 == 1 %}中
                            {% elif startShot.speed.0 == 2 %}强
                            {% else %} 无
                            {% endif %}
                        </td>
                        <td>
                            {% if endShot.speed.1 == 0 %}弱
                            {% elif endShot.speed.1 == 1 %}中
                            {% elif endShot.speed.1 == 2 %}强
                            {% else %} 无
                            {% endif %}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">主体位置</th>
                        <td>
                            {% if startShot.position.0 == 0 %}右
                            {% elif startShot.position.0 == 1 %}中
                            {% elif startShot.position.0 == 2 %}左
                            {% else %} 无
                            {% endif %}
                        </td>
                        <td>
                            {% if endShot.position.1 == 0 %}右
                            {% elif endShot.position.1 == 1 %}中
                            {% elif endShot.position.1 == 2 %}左
                            {% else %} 无
                            {% endif %}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">色调</th>
                        <td>
                            {% if startShot.color.0 == 0 %}暖
                            {% elif startShot.color.0 == 1 %}中
                            {% elif startShot.color.0 == 2 %}冷
                            {% else %} 无
                            {% endif %}
                        </td>
                        <td>
                            {% if endShot.color.1 == 0 %}暖
                            {% elif endShot.color.1 == 1 %}中
                            {% elif endShot.color.1 == 2 %}冷
                            {% else %} 无
                            {% endif %}
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div><br><br>

{% endblock contents %}
{% block foot %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/common.css' %}">
    <script type="text/javascript" src="{% static 'js/common.js' %}">
    </script>
{% endblock foot %}